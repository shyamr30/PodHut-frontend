{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nexport const useStateWithCallback = initialState => {\n  _s();\n\n  const [state, setState] = useState(initialState);\n  const cbRef = useRef();\n  const updateState = useCallback((newState, cb) => {\n    cbRef.current = cb;\n    setState(prev => {\n      return typeof newState === 'function' ? newState(prev) : newState;\n    });\n  }, []);\n  useEffect(() => {\n    cbRef.current(state);\n    cbRef.current = null;\n  }, [state]);\n  return [state, updateState];\n};\n\n_s(useStateWithCallback, \"j3af8iC2Nsi7FdFwnf/6sCIVwHw=\");","map":{"version":3,"sources":["E:/College Assignment/Sem 6/SDP Project/project/frontend/src/hooks/useStateWithCallback.js"],"names":["useCallback","useEffect","useRef","useState","useStateWithCallback","initialState","state","setState","cbRef","updateState","newState","cb","current","prev"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,MAAjC,EAAyCC,QAAzC,QAAyD,OAAzD;AAEA,OAAO,MAAMC,oBAAoB,GAAIC,YAAD,IAAkB;AAAA;;AAClD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAACE,YAAD,CAAlC;AACA,QAAMG,KAAK,GAAGN,MAAM,EAApB;AACA,QAAMO,WAAW,GAAGT,WAAW,CAAC,CAACU,QAAD,EAAWC,EAAX,KAAkB;AAC9CH,IAAAA,KAAK,CAACI,OAAN,GAAgBD,EAAhB;AAEAJ,IAAAA,QAAQ,CAAEM,IAAD,IAAU;AACf,aAAO,OAAOH,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,CAACG,IAAD,CAAzC,GAAkDH,QAAzD;AACH,KAFO,CAAR;AAGH,GAN8B,EAM7B,EAN6B,CAA/B;AAQAT,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,KAAK,CAACI,OAAN,CAAcN,KAAd;AACAE,IAAAA,KAAK,CAACI,OAAN,GAAgB,IAAhB;AACH,GAHQ,EAGP,CAACN,KAAD,CAHO,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQG,WAAR,CAAP;AACH,CAhBM;;GAAML,oB","sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\nexport const useStateWithCallback = (initialState) => {\r\n    const [state, setState] = useState(initialState);\r\n    const cbRef = useRef();\r\n    const updateState = useCallback((newState, cb) => {\r\n        cbRef.current = cb;\r\n\r\n        setState((prev) => {\r\n            return typeof newState === 'function' ? newState(prev) : newState;\r\n        })\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        cbRef.current(state);\r\n        cbRef.current = null;\r\n    },[state]);\r\n    return [state, updateState];\r\n}"]},"metadata":{},"sourceType":"module"}