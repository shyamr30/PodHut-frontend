{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setAuth } from '../store/authSlice';\nexport function useLoadingWithRefresh() {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    (async () => {\n      try {\n        const {\n          data\n        } = await axios.get(`${process.env.REACT_APP_API_URL}/api/refresh`, {\n          withCredentials: true\n        });\n        dispatch(setAuth(data));\n        console.log(data);\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n  return {\n    loading\n  };\n}\n\n_s(useLoadingWithRefresh, \"hJqoo2vZ0MjKvP7UMKYtoEITYS4=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"sources":["E:/College Assignment/Sem 6/SDP Project/project/frontend/src/hooks/useLoadingWithRefresh.js"],"names":["axios","useEffect","useState","useDispatch","setAuth","useLoadingWithRefresh","loading","setLoading","dispatch","data","get","process","env","REACT_APP_API_URL","withCredentials","console","log","err"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAO,SAASC,qBAAT,GAAiC;AAAA;;AACpC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMM,QAAQ,GAAGL,WAAW,EAA5B;AACAF,EAAAA,SAAS,CAAC,MAAK;AACX,KAAC,YAAY;AACT,UAAI;AACA,cAAM;AAACQ,UAAAA;AAAD,YAAS,MAAMT,KAAK,CAACU,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,cAA3C,EAA0D;AAC3EC,UAAAA,eAAe,EAAE;AAD0D,SAA1D,CAArB;AAIAN,QAAAA,QAAQ,CAACJ,OAAO,CAACK,IAAD,CAAR,CAAR;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAF,QAAAA,UAAU,CAAC,KAAD,CAAV;AAEH,OATD,CASE,OAAMU,GAAN,EAAW;AACTF,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACAV,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KAdD;AAeH,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,SAAO;AAACD,IAAAA;AAAD,GAAP;AAEH;;GAvBeD,qB;UAEKF,W","sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setAuth } from '../store/authSlice';\r\n\r\nexport function useLoadingWithRefresh() {\r\n    const [loading, setLoading] = useState(true);\r\n    const dispatch = useDispatch();\r\n    useEffect(() =>{\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.get(`${process.env.REACT_APP_API_URL}/api/refresh`, {\r\n                    withCredentials: true,\r\n                });\r\n\r\n                dispatch(setAuth(data));\r\n                console.log(data);\r\n                setLoading(false);\r\n\r\n            } catch(err) {\r\n                console.log(err);\r\n                setLoading(false);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return {loading};\r\n\r\n}"]},"metadata":{},"sourceType":"module"}