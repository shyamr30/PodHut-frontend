{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\pipar\\\\Videos\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _objectWithoutProperties from\"C:\\\\Users\\\\pipar\\\\Videos\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectWithoutProperties.js\";var _excluded=[\"children\"],_excluded2=[\"children\"],_excluded3=[\"children\"];import'./App.css';import{BrowserRouter,Switch,Route,Redirect}from'react-router-dom';import Home from'./pages/Home/Home';import Navigation from'./components/shared/Navigation/Navigation';import Authenticate from'./pages/Authenticate/Authenticate';import Activate from'./pages/Activate/Activate';import Rooms from'./pages/Rooms/Rooms';import Room from'./pages/Room/Room';import{useSelector}from'react-redux';import{useLoadingWithRefresh}from'./hooks/useLoadingWithRefresh';import Loader from'./components/shared/Loader/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useLoadingWithRefres=useLoadingWithRefresh(),loading=_useLoadingWithRefres.loading;return loading?/*#__PURE__*/_jsx(Loader,{message:\"Loading, please wait..\"}):/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(GuestRoute,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(GuestRoute,{path:\"/authenticate\",children:/*#__PURE__*/_jsx(Authenticate,{})}),/*#__PURE__*/_jsx(SemiProtectedRoute,{path:\"/activate\",children:/*#__PURE__*/_jsx(Activate,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/rooms\",children:/*#__PURE__*/_jsx(Rooms,{})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/room/:id\",children:/*#__PURE__*/_jsx(Room,{})})]})]});}var GuestRoute=function GuestRoute(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,_excluded);var _useSelector=useSelector(function(state){return state.auth;}),isAuth=_useSelector.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref2){var location=_ref2.location;return isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/rooms',state:{from:location}}}):children;}}));};var SemiProtectedRoute=function SemiProtectedRoute(_ref3){var children=_ref3.children,rest=_objectWithoutProperties(_ref3,_excluded2);var _useSelector2=useSelector(function(state){return state.auth;}),user=_useSelector2.user,isAuth=_useSelector2.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref4){var location=_ref4.location;return!isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/',state:{from:location}}}):isAuth&&!user.activated?children:/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/rooms',state:{from:location}}});}}));};var ProtectedRoute=function ProtectedRoute(_ref5){var children=_ref5.children,rest=_objectWithoutProperties(_ref5,_excluded3);var _useSelector3=useSelector(function(state){return state.auth;}),user=_useSelector3.user,isAuth=_useSelector3.isAuth;return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref6){var location=_ref6.location;return!isAuth?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/',state:{from:location}}}):isAuth&&!user.activated?/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/activate',state:{from:location}}}):children;}}));};export default App;","map":{"version":3,"sources":["C:/Users/pipar/Videos/project/frontend/src/App.js"],"names":["BrowserRouter","Switch","Route","Redirect","Home","Navigation","Authenticate","Activate","Rooms","Room","useSelector","useLoadingWithRefresh","Loader","App","loading","GuestRoute","children","rest","state","auth","isAuth","location","pathname","from","SemiProtectedRoute","user","activated","ProtectedRoute"],"mappings":"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","sourcesContent":["import './App.css';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from './pages/Home/Home';\nimport Navigation from './components/shared/Navigation/Navigation';\nimport Authenticate from './pages/Authenticate/Authenticate';\nimport Activate from './pages/Activate/Activate';\nimport Rooms from './pages/Rooms/Rooms';\nimport Room from './pages/Room/Room';\nimport { useSelector } from 'react-redux';\nimport { useLoadingWithRefresh } from './hooks/useLoadingWithRefresh';\nimport Loader from './components/shared/Loader/Loader';\n\n\nfunction App() {\n  \n  const {loading} = useLoadingWithRefresh();\n  return loading ? (\n    <Loader message=\"Loading, please wait..\" />\n  ) : (\n    <BrowserRouter>\n    <Navigation />\n    <Switch>\n      <GuestRoute path=\"/\" exact>\n        <Home />\n      </GuestRoute>\n\n      <GuestRoute path=\"/authenticate\">\n        <Authenticate />\n      </GuestRoute>\n\n      <SemiProtectedRoute path=\"/activate\">\n        <Activate />\n      </SemiProtectedRoute>\n\n      <ProtectedRoute path=\"/rooms\">\n        <Rooms />\n      </ProtectedRoute>\n\n      <ProtectedRoute path=\"/room/:id\">\n        <Room />\n      </ProtectedRoute>\n\n    </Switch>\n    </BrowserRouter>\n  );\n}\n\nconst GuestRoute = ({children, ...rest}) => {\n  const {isAuth} = useSelector((state) => state.auth);\n  return (\n    <Route {...rest} render={({location}) => {\n      return isAuth ? \n      <Redirect to={\n        {\n          pathname: '/rooms',\n          state: {from: location}\n        }\n      }\n      />\n      :\n      (\n        children\n      )\n    }}>\n      \n    </Route>\n  );\n};\n\nconst SemiProtectedRoute = ({children, ...rest}) => {\n  const {user, isAuth} = useSelector((state) => state.auth);\n  return (\n    <Route {...rest}\n      render={({location}) => {\n        return (\n          !isAuth ? \n          (\n            <Redirect to={{\n              pathname:'/',\n              state: {from: location}\n            }}/>\n          )\n          :\n          isAuth && !user.activated ?\n          (children) : (\n          <Redirect to={{\n            pathname:'/rooms',\n            state: {from: location},\n          }}/>\n        )\n        )\n      }\n      \n      }\n    ></Route>\n  );\n};\n\nconst ProtectedRoute = ({children, ...rest}) => {\n  const {user, isAuth} = useSelector((state) => state.auth);\n  return (\n    <Route {...rest}\n      render={({location}) => {\n        return (\n          !isAuth ? \n          (\n            <Redirect to={{\n              pathname:'/',\n              state: {from: location}\n            }}/>\n          )\n          :\n          isAuth && !user.activated ? (\n          <Redirect to={{\n            pathname:'/activate',\n            state: {from: location},\n          }}/> )\n          : (\n            children\n          )\n\n        )\n      }\n      \n      }\n    ></Route>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}