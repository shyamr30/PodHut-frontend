{"ast":null,"code":"import _asyncToGenerator from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import styles from'./AddRoomModal.module.css';import TextInput from'../shared/TextInput/TextInput';import{useState}from'react';import{createRoom as create}from'../../http';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddRoomModal=function AddRoomModal(_ref){var onClose=_ref.onClose;var history=useHistory();var _useState=useState('Public'),_useState2=_slicedToArray(_useState,2),roomType=_useState2[0],setRoomType=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),topic=_useState4[0],setTopic=_useState4[1];function createRoom(){return _createRoom.apply(this,arguments);}function _createRoom(){_createRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$create,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(topic){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;_context.next=5;return create({topic:topic,roomType:roomType});case 5:_yield$create=_context.sent;data=_yield$create.data;history.push(\"/room/\".concat(data.id));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return _createRoom.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:styles.modalMask,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.modalBody,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:styles.closeButton,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/close.png\",alt:\"close\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.modalHeader,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.heading,children:\"Enter the topic to be discussed\"}),/*#__PURE__*/_jsx(TextInput,{fullwidth:\"true\",value:topic,onChange:function onChange(e){return setTopic(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{className:styles.subHeading,children:\"Room Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.roomTypes,children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setRoomType('Public');},className:\"\".concat(styles.typeBox,\" \").concat(roomType==='Public'?styles.active:''),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/globe.png\",alt:\"globe\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Public\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setRoomType('Social');},className:\"\".concat(styles.typeBox,\" \").concat(roomType==='Social'?styles.active:''),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/social.png\",alt:\"globe\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Social\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setRoomType('Private');},className:\"\".concat(styles.typeBox,\" \").concat(roomType==='Private'?styles.active:''),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/lock.png\",alt:\"globe\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Private\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.modalFooter,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Start a room, open to everyone\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:createRoom,className:styles.footerButton,children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/celebration.png\",alt:\"celebration\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Let's Go\"})]})]})]})});};export default AddRoomModal;","map":{"version":3,"sources":["E:/College Assignment/Sem 6/SDP Project/project/frontend/src/components/AddRoomModal/AddRoomModal.jsx"],"names":["React","styles","TextInput","useState","createRoom","create","useHistory","AddRoomModal","onClose","history","roomType","setRoomType","topic","setTopic","data","push","id","console","log","message","modalMask","modalBody","closeButton","modalHeader","heading","e","target","value","subHeading","roomTypes","typeBox","active","modalFooter","footerButton"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport styles from './AddRoomModal.module.css';\r\nimport TextInput from '../shared/TextInput/TextInput';\r\nimport { useState } from 'react';\r\nimport {createRoom as create} from '../../http';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst AddRoomModal = ({onClose}) => {\r\n    \r\n    const history = useHistory();\r\n    const [roomType, setRoomType] = useState('Public');\r\n    const [topic, setTopic] = useState('');\r\n\r\n    async function createRoom() {\r\n        //server call\r\n        if(!topic) return;\r\n        try{\r\n            const {data} = await create({topic, roomType});\r\n            history.push(`/room/${data.id}`);\r\n        } catch(err){\r\n            console.log(err.message);\r\n        }\r\n    }\r\n  return (\r\n    <div className={styles.modalMask}>\r\n        <div className={styles.modalBody}>\r\n            <button onClick={onClose} className={styles.closeButton}>\r\n                <img src=\"/images/close.png\" alt=\"close\" />\r\n            </button>\r\n            <div className={styles.modalHeader}>\r\n                <h3 className={styles.heading}>Enter the topic to be discussed</h3>\r\n                <TextInput \r\n                fullwidth=\"true\" \r\n                value={topic} \r\n                onChange={(e) => setTopic(e.target.value)} />\r\n                <h2 className={styles.subHeading}>Room Types</h2>\r\n                <div className={styles.roomTypes}>\r\n                    <div onClick={() => setRoomType('Public')}\r\n                    className={`${styles.typeBox} ${roomType === 'Public' ? styles.active: ''}`}>\r\n                        <img src=\"/images/globe.png\" alt=\"globe\" />\r\n                        <span>Public</span>\r\n                    </div>\r\n                    {<div onClick={() => setRoomType('Social')}\r\n                    className={`${styles.typeBox} ${roomType === 'Social' ? styles.active: ''}`}>\r\n                        <img src=\"/images/social.png\" alt=\"globe\" />\r\n                        <span>Social</span>\r\n                    </div>}\r\n                    <div onClick={() => setRoomType('Private')}\r\n                    className={`${styles.typeBox} ${roomType === 'Private' ? styles.active: ''}`}>\r\n                        <img src=\"/images/lock.png\" alt=\"globe\" />\r\n                        <span>Private</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={styles.modalFooter}>\r\n                <h2>Start a room, open to everyone</h2>\r\n                <button onClick={createRoom} className={styles.footerButton}>\r\n                    <img src=\"images/celebration.png\" alt=\"celebration\" />\r\n                    <span>Let's Go</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddRoomModal"]},"metadata":{},"sourceType":"module"}