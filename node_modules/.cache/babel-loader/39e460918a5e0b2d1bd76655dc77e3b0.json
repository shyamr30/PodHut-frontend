{"ast":null,"code":"import _asyncToGenerator from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\College Assignment\\\\Sem 6\\\\SDP Project\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import Card from'../../../../components/shared/Card/Card';import Button from'../../../../components/shared/Button/Button';import TextInput from'../../../../components/shared/TextInput/TextInput';import styles from'../StepPhoneEmail.module.css';import{sendOtp}from'../../../../http/index';import{useDispatch}from'react-redux';import{setOtp}from'../../../../store/authSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phone=function Phone(_ref){var onNext=_ref.onNext;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),phoneNumber=_useState2[0],setPhoneNumber=_useState2[1];var dispatch=useDispatch();function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$sendOtp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(phoneNumber){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return sendOtp({phone:phoneNumber});case 4:_yield$sendOtp=_context.sent;data=_yield$sendOtp.data;console.log(data);dispatch(setOtp({phone:data.phone,hash:data.hash}));onNext();case 9:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsxs(Card,{title:\"Enter phone no\",icon:\"phone\",children:[/*#__PURE__*/_jsx(TextInput,{value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.actionButtonWrap,children:/*#__PURE__*/_jsx(Button,{text:\"Next\",onClick:submit})}),/*#__PURE__*/_jsx(\"p\",{className:styles.bottomParagraph,children:\"By entering your number, you are agreeing to our Terms of Services and Privacy Policy.\"})]})]});};export default Phone;","map":{"version":3,"sources":["E:/College Assignment/Sem 6/SDP Project/project/frontend/src/pages/Steps/StepPhoneEmail/Phone/Phone.jsx"],"names":["React","useState","Card","Button","TextInput","styles","sendOtp","useDispatch","setOtp","Phone","onNext","phoneNumber","setPhoneNumber","dispatch","submit","phone","data","console","log","hash","e","target","value","actionButtonWrap","bottomParagraph"],"mappings":"6cAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,yCAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6CAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mDAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,8BAAnB,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAAQC,MAAR,KAAqB,6BAArB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CAE1B,cAAsCT,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAH0B,QAKXO,CAAAA,MALW,4HAK1B,8JAEOH,WAFP,uFAGwBL,CAAAA,OAAO,CAAC,CAACS,KAAK,CAAEJ,WAAR,CAAD,CAH/B,qCAGUK,IAHV,gBAGUA,IAHV,CAIGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACDH,QAAQ,CAACL,MAAM,CAAC,CAACO,KAAK,CAAEC,IAAI,CAACD,KAAb,CAAoBI,IAAI,CAAEH,IAAI,CAACG,IAA/B,CAAD,CAAP,CAAR,CAEAT,MAAM,GAPR,sDAL0B,yCAgB1B,mBACE,MAAC,IAAD,EAAM,KAAK,CAAC,gBAAZ,CAA6B,IAAI,CAAC,OAAlC,wBAEE,KAAC,SAAD,EAAW,KAAK,CAAEC,WAAlB,CAA+B,QAAQ,CAAE,kBAACS,CAAD,QAAOR,CAAAA,cAAc,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAAzC,EAFF,cAGA,oCACI,YAAK,SAAS,CAAEjB,MAAM,CAACkB,gBAAvB,uBACE,KAAC,MAAD,EAAS,IAAI,CAAC,MAAd,CAAqB,OAAO,CAAET,MAA9B,EADF,EADJ,cAII,UAAG,SAAS,CAAET,MAAM,CAACmB,eAArB,oGAJJ,GAHA,GADF,CAeD,CA/BD,CAiCA,cAAef,CAAAA,KAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport Card from '../../../../components/shared/Card/Card';\r\nimport Button from '../../../../components/shared/Button/Button';\r\nimport TextInput from '../../../../components/shared/TextInput/TextInput';\r\nimport styles from '../StepPhoneEmail.module.css';\r\nimport { sendOtp } from '../../../../http/index';\r\nimport { useDispatch } from 'react-redux';\r\nimport {setOtp} from '../../../../store/authSlice';\r\n\r\nconst Phone = ({onNext}) => {\r\n\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  async function submit() {\r\n    // server-request\r\n    if (!phoneNumber) return;\r\n     const {data} = await sendOtp({phone: phoneNumber});\r\n     console.log(data);\r\n    dispatch(setOtp({phone: data.phone, hash: data.hash}));\r\n    \r\n    onNext();\r\n\r\n  }\r\n  \r\n  return (\r\n    <Card title=\"Enter phone no\" icon=\"phone\">\r\n\r\n      <TextInput value={phoneNumber} onChange={(e) => setPhoneNumber(e.target.value)}/>\r\n    <div>\r\n        <div className={styles.actionButtonWrap}>\r\n          <Button  text=\"Next\" onClick={submit}/>\r\n        </div>\r\n        <p className={styles.bottomParagraph}>\r\n          By entering your number, you are agreeing to our Terms of Services and Privacy Policy.\r\n        </p>\r\n    </div>\r\n\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Phone;\r\n"]},"metadata":{},"sourceType":"module"}