{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\pipar\\\\Videos\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\pipar\\\\Videos\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pipar\\\\Videos\\\\project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import Button from'../../../components/shared/Button/Button';import styles from'./StepOtp.module.css';import Card from'../../../components/shared/Card/Card';import TextInput from'../../../components/shared/TextInput/TextInput';import{verifyOtp}from'../../../http';import{useSelector}from'react-redux';import{setAuth}from'../../../store/authSlice';import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StepOtp=function StepOtp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth.otp;}),phone=_useSelector.phone,hash=_useSelector.hash;function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$verifyOtp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!otp||!phone||!hash)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;_context.next=5;return verifyOtp({otp:otp,phone:phone,hash:hash});case 5:_yield$verifyOtp=_context.sent;data=_yield$verifyOtp.data;console.log(data);dispatch(setAuth(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.cardWrapper,children:/*#__PURE__*/_jsxs(Card,{title:\"Enter the OTP!\",icon:\"lock-emoji\",children:[/*#__PURE__*/_jsx(TextInput,{value:otp,onChange:function onChange(e){return setOtp(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:styles.actionButtonWrap,children:/*#__PURE__*/_jsx(Button,{onClick:submit,text:\"Next\"})}),/*#__PURE__*/_jsx(\"p\",{className:styles.bottomParagraph,children:\"Enter the 4 digit code that was sent to you.\"})]})})});};export default StepOtp;","map":{"version":3,"sources":["C:/Users/pipar/Videos/project/frontend/src/pages/Steps/StepOtp/StepOtp.jsx"],"names":["React","useState","Button","styles","Card","TextInput","verifyOtp","useSelector","setAuth","useDispatch","StepOtp","otp","setOtp","dispatch","state","auth","phone","hash","submit","data","console","log","cardWrapper","e","target","value","actionButtonWrap","bottomParagraph"],"mappings":"uZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0CAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gDAAtB,CACA,OAASC,SAAT,KAA0B,eAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,OAAT,KAAwB,0BAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,cAAsBT,QAAQ,CAAC,EAAD,CAA9B,wCAAOU,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,iBAAsBF,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWJ,GAAtB,EAAD,CAAjC,CAAOK,KAAP,cAAOA,KAAP,CAAcC,IAAd,cAAcA,IAAd,CAHoB,QAKLC,CAAAA,MALK,4HAKpB,kKACK,CAACP,GAAD,EAAQ,CAACK,KAAT,EAAkB,CAACC,IADxB,wGAGwBX,CAAAA,SAAS,CAAC,CAACK,GAAG,CAAHA,GAAD,CAAMK,KAAK,CAALA,KAAN,CAAaC,IAAI,CAAJA,IAAb,CAAD,CAHjC,uCAGUE,IAHV,kBAGUA,IAHV,CAIGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAN,QAAQ,CAACL,OAAO,CAACW,IAAD,CAAR,CAAR,CALH,iFAQIC,OAAO,CAACC,GAAR,cARJ,qEALoB,yCAiBlB,mBACI,sCACE,YAAK,SAAS,CAAElB,MAAM,CAACmB,WAAvB,uBACE,MAAC,IAAD,EACE,KAAK,CAAC,gBADR,CAEE,IAAI,CAAC,YAFP,wBAIE,KAAC,SAAD,EACE,KAAK,CAAEX,GADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,MAAM,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAFZ,EAJF,cAQE,YAAK,SAAS,CAAEtB,MAAM,CAACuB,gBAAvB,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAER,MAAjB,CAAyB,IAAI,CAAC,MAA9B,EADF,EARF,cAWE,UAAG,SAAS,CAAEf,MAAM,CAACwB,eAArB,0DAXF,GADF,EADF,EADJ,CA0BH,CA3CD,CA6CA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport Button from '../../../components/shared/Button/Button';\r\nimport styles from './StepOtp.module.css';\r\nimport Card from '../../../components/shared/Card/Card';\r\nimport TextInput from '../../../components/shared/TextInput/TextInput';\r\nimport { verifyOtp } from '../../../http';\r\nimport { useSelector } from 'react-redux';\r\nimport { setAuth } from '../../../store/authSlice';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst StepOtp = () => {\r\n  const [otp, setOtp] = useState('');\r\n  const dispatch = useDispatch();\r\n  const {phone, hash} = useSelector((state) => state.auth.otp);\r\n  \r\n  async function submit(){\r\n    if(!otp || !phone || !hash) return;\r\n    try{\r\n     const {data} = await verifyOtp({otp, phone, hash});\r\n     console.log(data);\r\n     dispatch(setAuth(data));\r\n   \r\n    } catch(e){\r\n      console.log(e);\r\n    }\r\n    \r\n  }\r\n    return (\r\n        <>\r\n          <div className={styles.cardWrapper}>\r\n            <Card  \r\n              title=\"Enter the OTP!\"\r\n              icon=\"lock-emoji\"\r\n            > \r\n              <TextInput  \r\n                value={otp}\r\n                onChange={(e) => setOtp(e.target.value)}\r\n              />\r\n              <div className={styles.actionButtonWrap}>\r\n                <Button onClick={submit} text=\"Next\" />\r\n              </div>\r\n              <p className={styles.bottomParagraph}>\r\n                Enter the 4 digit code that was sent to you.\r\n\r\n              </p>\r\n\r\n              \r\n            </Card>\r\n          </div>\r\n          \r\n        </>\r\n      \r\n    );\r\n};\r\n\r\nexport default StepOtp;\r\n"]},"metadata":{},"sourceType":"module"}